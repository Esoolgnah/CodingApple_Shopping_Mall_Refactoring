{"ast":null,"code":"import _toConsumableArray from\"/Users/esoolgnah/Desktop/Projects/\\u1109\\u116D\\u1111\\u1175\\u11BC\\u1106\\u1169\\u11AF \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173 \\u1105\\u1175\\u1111\\u1162\\u11A8\\u1110\\u1169\\u1105\\u1175\\u11BC/CodingApple_Shopping_Mall_Refactoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/esoolgnah/Desktop/Projects/\\u1109\\u116D\\u1111\\u1175\\u11BC\\u1106\\u1169\\u11AF \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173 \\u1105\\u1175\\u1111\\u1162\\u11A8\\u1110\\u1169\\u1105\\u1175\\u11BC/CodingApple_Shopping_Mall_Refactoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/esoolgnah/Desktop/Projects/\\u1109\\u116D\\u1111\\u1175\\u11BC\\u1106\\u1169\\u11AF \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173 \\u1105\\u1175\\u1111\\u1162\\u11A8\\u1110\\u1169\\u1105\\u1175\\u11BC/CodingApple_Shopping_Mall_Refactoring/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;/* import CSS */import'../styles/pages/Detail.scss';/* import Library */import axios from'axios';import{Nav}from'react-bootstrap';import React,{useEffect,useState}from'react';import{useHistory,useParams}from'react-router-dom';import styled from'styled-components';import{useDispatch}from'react-redux';import{CSSTransition}from'react-transition-group';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var recents=[];var 박스=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n\"])));var 제목=styled.h4(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-size: 25px;\\n  color: \",\";\\n\"])),function(props){return props.색상;});function Detail(props){var history=useHistory();var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var 찾은상품=props.shoes.find(function(상품){return 상품.id==id;});var _useState=useState(true),_useState2=_slicedToArray(_useState,2),alert=_useState2[0],alert변경=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),누른탭=_useState4[0],누른탭변경=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),스위치=_useState6[0],스위치변경=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),recent=_useState8[0],setRecent=_useState8[1];/* 숫자에 콤마(,)추가하여 표시 */var addComma=function addComma(num){var regexp=/\\B(?=(\\d{3})+(?!\\d))/g;return num.toString().replace(regexp,',');};var addItemAndGoCart=function addItemAndGoCart(){// 장바구니 항목 추가\ndispatch({type:'항목추가',데이터:{id:찾은상품.id,name:찾은상품.title,quan:1,image:\"https://codingapple1.github.io/shop/shoes\".concat(찾은상품.id+1,\".jpg\"),price:찾은상품.price}});// 장바구니 이동 여부 모달 On\ndispatch({type:'goCartModalOn'});};var getDataAndSetting=function getDataAndSetting(el){if(props.shoes.length<4){axios.get('https://codingapple1.github.io/shop/data2.json').then(function(result){if(result.data)props.shoes변경([].concat(_toConsumableArray(props.shoes),_toConsumableArray(result.data)));}).catch(function(){console.log('실패');});}var arr=localStorage.getItem('watched');if(arr===null)arr=[];else arr=JSON.parse(arr);var idx=arr.indexOf(el);if(idx>-1){arr.splice(idx,1);arr.unshift(el);}else{arr.unshift(el);}if(arr.length>3){arr=[arr[0],arr[1],arr[2]];}recents=arr;localStorage.setItem('watched',JSON.stringify(arr));};useEffect(function(){var 타이머=setTimeout(function(){alert변경(false);},2000);return function(){clearTimeout(타이머);};},[]);useEffect(function(){// localStorage.clear();\nvar arr=localStorage.getItem('watched');if(arr===null)arr=[];else arr=JSON.parse(arr);var idx=arr.indexOf(id);if(idx>-1){arr.splice(idx,1);arr.unshift(id);}else{arr.unshift(id);}if(arr.length>3){arr=[arr[0],arr[1],arr[2]];}recents=arr;localStorage.setItem('watched',JSON.stringify(arr));},[]);var goDetailPage=function goDetailPage(el){getDataAndSetting(el);setTimeout(function(){history.push('/detail/'+el);alert변경(true);var 타이머=setTimeout(function(){alert변경(false);},2000);return function(){clearTimeout(타이머);};},1000);};useEffect(function(){setRecent(recents);},[recents]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"recentBox\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"Recently Viewed\"}),recent.map(function(el,i){return/*#__PURE__*/_jsx(\"div\",{className:\"imgWrapper opacity\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:\"https://codingapple1.github.io/shop/shoes\".concat(Number(el)+1,\".jpg\"),onClick:function onClick(){goDetailPage(el);}})},el);})]}),/*#__PURE__*/_jsx(박스,{children:/*#__PURE__*/_jsx(제목,{className:\"red\",children:\"Detail\"})}),/*#__PURE__*/_jsx(\"div\",{className:alert?'my-alert':'my-alert-hide',children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uC7AC\\uACE0\\uAC00 \\uC5BC\\uB9C8 \\uB0A8\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://codingapple1.github.io/shop/shoes\".concat(찾은상품.id+1,\".jpg\"),width:\"100%\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"pt-5\",children:찾은상품.title}),/*#__PURE__*/_jsx(\"p\",{children:찾은상품.content}),/*#__PURE__*/_jsxs(\"p\",{children:[addComma(찾은상품.price),\"\\uC6D0\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary opacity\",onClick:function onClick(){addItemAndGoCart();},children:\"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uB2F4\\uAE30\"}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary opacity\",onClick:function onClick(){history.push('/');},children:\"\\uB4A4\\uB85C\\uAC00\\uAE30\"}),/*#__PURE__*/_jsxs(Nav,{className:\"mt-5\",variant:\"tabs\",defaultActiveKey:\"/home\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"link-0\",style:{color:'black'},onClick:function onClick(){스위치변경(false);누른탭변경(0);},children:\"0\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"link-1\",style:{color:'black'},onClick:function onClick(){스위치변경(false);누른탭변경(1);},children:\"1\"})})]}),/*#__PURE__*/_jsx(CSSTransition,{in:스위치,classNames:\"wow\",timeout:500,children:/*#__PURE__*/_jsx(TabContent,{누른탭:누른탭,스위치변경:스위치변경})})]})]})]});}function TabContent(props){useEffect(function(){props.스위치변경(true);});if(props.누른탭===0)return/*#__PURE__*/_jsx(\"div\",{children:\"0\\uBC88\\uC9F8 \\uB0B4\\uC6A9\"});else if(props.누른탭===1)return/*#__PURE__*/_jsx(\"div\",{children:\"1\\uBC88\\uC9F8 \\uB0B4\\uC6A9\"});else if(props.누른탭===2)return/*#__PURE__*/_jsx(\"div\",{children:\"2\\uBC88\\uC9F8 \\uB0B4\\uC6A9\"});}export default Detail;","map":{"version":3,"sources":["/Users/esoolgnah/Desktop/Projects/쇼핑몰 프로젝트 리팩토링/CodingApple_Shopping_Mall_Refactoring/src/pages/Detail.js"],"names":["axios","Nav","React","useEffect","useState","useHistory","useParams","styled","useDispatch","CSSTransition","recents","박스","div","제목","h4","props","색상","Detail","history","dispatch","id","찾은상품","shoes","find","상품","alert","alert변경","누른탭","누른탭변경","스위치","스위치변경","recent","setRecent","addComma","num","regexp","toString","replace","addItemAndGoCart","type","데이터","name","title","quan","image","price","getDataAndSetting","el","length","get","then","result","data","shoes변경","catch","console","log","arr","localStorage","getItem","JSON","parse","idx","indexOf","splice","unshift","setItem","stringify","타이머","setTimeout","clearTimeout","goDetailPage","push","map","i","Number","content","color","TabContent"],"mappings":"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","sourcesContent":["/* import CSS */\nimport '../styles/pages/Detail.scss';\n/* import Library */\nimport axios from 'axios';\nimport { Nav } from 'react-bootstrap';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\n\nlet recents = [];\nlet 박스 = styled.div`\n  padding: 20px;\n`;\nlet 제목 = styled.h4`\n  font-size: 25px;\n  color: ${(props) => props.색상};\n`;\n\nfunction Detail(props) {\n  let history = useHistory();\n  let dispatch = useDispatch();\n\n  let { id } = useParams();\n  let 찾은상품 = props.shoes.find(function (상품) {\n    return 상품.id == id;\n  });\n  const [alert, alert변경] = useState(true);\n  let [누른탭, 누른탭변경] = useState(0);\n  let [스위치, 스위치변경] = useState(false);\n  let [recent, setRecent] = useState([]);\n\n  /* 숫자에 콤마(,)추가하여 표시 */\n  const addComma = (num) => {\n    let regexp = /\\B(?=(\\d{3})+(?!\\d))/g;\n    return num.toString().replace(regexp, ',');\n  };\n\n  const addItemAndGoCart = () => {\n    // 장바구니 항목 추가\n    dispatch({\n      type: '항목추가',\n      데이터: {\n        id: 찾은상품.id,\n        name: 찾은상품.title,\n        quan: 1,\n        image: `https://codingapple1.github.io/shop/shoes${\n          찾은상품.id + 1\n        }.jpg`,\n        price: 찾은상품.price,\n      },\n    });\n\n    // 장바구니 이동 여부 모달 On\n    dispatch({\n      type: 'goCartModalOn',\n    });\n  };\n\n  const getDataAndSetting = (el) => {\n    if (props.shoes.length < 4) {\n      axios\n        .get('https://codingapple1.github.io/shop/data2.json')\n        .then((result) => {\n          if (result.data) props.shoes변경([...props.shoes, ...result.data]);\n        })\n        .catch(() => {\n          console.log('실패');\n        });\n    }\n\n    let arr = localStorage.getItem('watched');\n    if (arr === null) arr = [];\n    else arr = JSON.parse(arr);\n    let idx = arr.indexOf(el);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n      arr.unshift(el);\n    } else {\n      arr.unshift(el);\n    }\n    if (arr.length > 3) {\n      arr = [arr[0], arr[1], arr[2]];\n    }\n    recents = arr;\n    localStorage.setItem('watched', JSON.stringify(arr));\n  };\n\n  useEffect(() => {\n    let 타이머 = setTimeout(() => {\n      alert변경(false);\n    }, 2000);\n    return () => {\n      clearTimeout(타이머);\n    };\n  }, []);\n\n  useEffect(() => {\n    // localStorage.clear();\n    let arr = localStorage.getItem('watched');\n    if (arr === null) arr = [];\n    else arr = JSON.parse(arr);\n    let idx = arr.indexOf(id);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n      arr.unshift(id);\n    } else {\n      arr.unshift(id);\n    }\n    if (arr.length > 3) {\n      arr = [arr[0], arr[1], arr[2]];\n    }\n    recents = arr;\n    localStorage.setItem('watched', JSON.stringify(arr));\n  }, []);\n\n  const goDetailPage = (el) => {\n    getDataAndSetting(el);\n    setTimeout(() => {\n      history.push('/detail/' + el);\n      alert변경(true);\n      let 타이머 = setTimeout(() => {\n        alert변경(false);\n      }, 2000);\n      return () => {\n        clearTimeout(타이머);\n      };\n    }, 1000);\n  };\n\n  useEffect(() => {\n    setRecent(recents);\n  }, [recents]);\n\n  return (\n    <div className='container'>\n      <div id='recentBox'>\n        <p className='title'>Recently Viewed</p>\n        {recent.map((el, i) => {\n          return (\n            <div className='imgWrapper opacity' key={el}>\n              <img\n                className='img'\n                src={`https://codingapple1.github.io/shop/shoes${\n                  Number(el) + 1\n                }.jpg`}\n                onClick={() => {\n                  goDetailPage(el);\n                }}\n              ></img>\n            </div>\n          );\n        })}\n      </div>\n\n      <박스>\n        <제목 className='red'>Detail</제목>\n      </박스>\n\n      <div className={alert ? 'my-alert' : 'my-alert-hide'}>\n        <p>재고가 얼마 남지 않았습니다.</p>\n      </div>\n\n      <div className='row'>\n        <div className='col-md-6'>\n          <img\n            src={`https://codingapple1.github.io/shop/shoes${\n              찾은상품.id + 1\n            }.jpg`}\n            width='100%'\n          />\n        </div>\n        <div className='col-md-6 mt-4'>\n          <h4 className='pt-5'>{찾은상품.title}</h4>\n          <p>{찾은상품.content}</p>\n          <p>{addComma(찾은상품.price)}원</p>\n          <button\n            className='btn btn-primary opacity'\n            onClick={() => {\n              addItemAndGoCart();\n            }}\n          >\n            장바구니에 담기\n          </button>\n          &nbsp;\n          <button\n            className='btn btn-primary opacity'\n            onClick={() => {\n              history.push('/');\n            }}\n          >\n            뒤로가기\n          </button>\n          <Nav className='mt-5' variant='tabs' defaultActiveKey='/home'>\n            <Nav.Item>\n              <Nav.Link\n                eventKey='link-0'\n                style={{ color: 'black' }}\n                onClick={() => {\n                  스위치변경(false);\n                  누른탭변경(0);\n                }}\n              >\n                0\n              </Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link\n                eventKey='link-1'\n                style={{ color: 'black' }}\n                onClick={() => {\n                  스위치변경(false);\n                  누른탭변경(1);\n                }}\n              >\n                1\n              </Nav.Link>\n            </Nav.Item>\n          </Nav>\n          <CSSTransition in={스위치} classNames='wow' timeout={500}>\n            <TabContent 누른탭={누른탭} 스위치변경={스위치변경} />\n          </CSSTransition>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction TabContent(props) {\n  useEffect(() => {\n    props.스위치변경(true);\n  });\n\n  if (props.누른탭 === 0) return <div>0번째 내용</div>;\n  else if (props.누른탭 === 1) return <div>1번째 내용</div>;\n  else if (props.누른탭 === 2) return <div>2번째 내용</div>;\n}\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}