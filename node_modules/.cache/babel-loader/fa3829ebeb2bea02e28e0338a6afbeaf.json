{"ast":null,"code":"var _jsxFileName = \"/Users/esoolgnah/Desktop/Projects/\\u1109\\u116D\\u1111\\u1175\\u11BC\\u1106\\u1169\\u11AF \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173 \\u1105\\u1175\\u1111\\u1162\\u11A8\\u1110\\u1169\\u1105\\u1175\\u11BC/CodingApple_Shopping_Mall_Refactoring/src/pages/Cart.js\",\n    _s = $RefreshSig$();\n\n/* import CSS */\nimport '../styles/components/Cart/Cart.css';\nimport notice from '../images/cartNotice.jpeg';\n/* import Library */\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Table } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\n/* import Component */\n\nimport CheckBox from '../components/Cart/CheckBox.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Cart(props) {\n  _s();\n\n  let dispatch = useDispatch();\n  let history = useHistory();\n  let state = useSelector(state => state);\n  let sum = 0;\n  let checkedId = new Set();\n\n  for (let i = 0; i < state.reducer.length; i++) {\n    checkedId.add(state.reducer[i].id);\n  }\n  /* checkList 상태 */\n\n\n  const [allBChecked, setAllBChecked] = useState(true);\n  const [allChecked, setAllChecked] = useState(true);\n  const [checkList, setCheckList] = useState(checkedId);\n  const [checkClicked, setCheckClicked] = useState(false);\n\n  for (let j = 0; j < state.reducer.length; j++) {\n    if (checkList.has(state.reducer[j].id) == true) {\n      sum += state.reducer[j].price * state.reducer[j].quan;\n    }\n  }\n\n  const orderTitleStyle = {\n    textAlign: 'left',\n    fontWeight: 'bold',\n    top: '50px',\n    paddingLeft: '10px',\n    borderBottom: '2.5px solid black'\n  };\n  const amountBtnStyle = {\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    marginBottom: '3px'\n  };\n  const orderBtnStyle = {\n    width: '100%',\n    height: '50px',\n    fontSize: '20px',\n    fontWeight: 'bold'\n  };\n\n  const changeAllChecked = () => {\n    setAllBChecked(!allBChecked);\n    setCheckClicked(true);\n  };\n  /* 숫자에 콤마(,)추가하여 표시 */\n\n\n  const addComma = num => {\n    let regexp = /\\B(?=(\\d{3})+(?!\\d))/g;\n    return num.toString().replace(regexp, ',');\n  };\n\n  useEffect(() => {\n    if (allBChecked === true) {\n      for (let i = 0; i < state.reducer.length; i++) {\n        checkedId.add(state.reducer[i].id);\n      }\n\n      setCheckList(checkedId);\n    } else {\n      if (checkClicked === true) {\n        let copy = new Set();\n        setCheckList(copy);\n        setCheckClicked(false);\n      }\n    }\n  }, [allBChecked]);\n  useEffect(() => {\n    setCheckClicked(false);\n\n    if (state.reducer.length === checkList.size) {\n      setAllChecked(true);\n      setAllBChecked(true);\n    } else {\n      setAllChecked(false);\n      setAllBChecked(false);\n    }\n  }, [checkList]);\n\n  const increaseData = a => {\n    dispatch({\n      type: '수량증가',\n      데이터: a.id\n    });\n  };\n\n  const decreaseData = a => {\n    dispatch({\n      type: '수량감소',\n      데이터: a.id\n    });\n  };\n\n  const deleteData = a => {\n    dispatch({\n      type: '상품삭제',\n      데이터: a.id\n    });\n  };\n\n  const goDetailPage = id => {\n    if (props.shoes.length < 4) {\n      axios.get('https://codingapple1.github.io/shop/data2.json').then(result => {\n        if (result.data) props.shoes변경([...props.shoes, ...result.data]);\n      }).catch(() => {\n        console.log('실패');\n      });\n    }\n\n    setTimeout(() => {\n      history.push('/detail/' + id);\n    }, 1000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [state.reducer.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        responsive: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              class: \"col-md-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: allChecked,\n                onChange: changeAllChecked\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              class: \"col-md-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              class: \"col-md-2\",\n              children: \"\\uC0C1\\uD488\\uBA85\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              class: \"col-md-2\",\n              children: \"\\uAC00\\uACA9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              class: \"col-md-1\",\n              children: \"\\uC218\\uB7C9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              class: \"col-md-1\",\n              children: \"\\uBC30\\uC1A1\\uBE44\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              class: \"col-md-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: state.reducer.map((a, i) => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(CheckBox, {\n                  index: i,\n                  id: a.id,\n                  price: a.price,\n                  quan: a.quan,\n                  checkList: checkList,\n                  setCheckList: setCheckList\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"itemImg opacity\",\n                  onClick: () => {\n                    goDetailPage(a.id);\n                  },\n                  src: a.image,\n                  width: \"150px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: a.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [addComma(a.price), \"\\uC6D0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [' ', /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-default\",\n                  style: amountBtnStyle,\n                  onClick: () => {\n                    increaseData(a);\n                  },\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 23\n                }, this), a.quan, /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-default\",\n                  style: amountBtnStyle,\n                  onClick: () => {\n                    decreaseData(a);\n                  },\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"\\uBB34\\uB8CC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-default\",\n                  style: amountBtnStyle,\n                  onClick: () => {\n                    deleteData(a);\n                  },\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"orderWrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: orderTitleStyle,\n          children: \"\\uC8FC\\uBB38\\uD569\\uACC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orderTable\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"priceWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uACB0\\uC81C\\uC608\\uC815\\uAE08\\uC561\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: `${addComma(sum)}원`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"priceWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uC0C1\\uD488\\uAE08\\uC561 \\uD569\\uACC4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: ` ${addComma(sum)}원`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"priceWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uBC30\\uC1A1\\uBE44 \\uD569\\uACC4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \" + 0\\uC6D0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary opacity\",\n            style: orderBtnStyle,\n            children: `총 ${addComma(sum)}원 주문하기`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"noticeWrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"noticeImg\",\n        src: notice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"notice\",\n        children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uAC00 \\uBE44\\uC5B4\\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }, this), props.alert열렸니 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-alert\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC9C0\\uAE08 \\uAD6C\\uB9E4\\uD558\\uC2DC\\uBA74 20% \\uD560\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          dispatch({\n            type: 'alert닫기'\n          });\n        },\n        children: \"\\uB2EB\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true);\n}\n\n_s(Cart, \"f5wOPQVedcKWvAQ/XwWQLEpSBnw=\", false, function () {\n  return [useDispatch, useHistory, useSelector];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/Users/esoolgnah/Desktop/Projects/쇼핑몰 프로젝트 리팩토링/CodingApple_Shopping_Mall_Refactoring/src/pages/Cart.js"],"names":["notice","axios","React","useEffect","useState","useHistory","Table","useDispatch","useSelector","CheckBox","Cart","props","dispatch","history","state","sum","checkedId","Set","i","reducer","length","add","id","allBChecked","setAllBChecked","allChecked","setAllChecked","checkList","setCheckList","checkClicked","setCheckClicked","j","has","price","quan","orderTitleStyle","textAlign","fontWeight","top","paddingLeft","borderBottom","amountBtnStyle","cursor","marginBottom","orderBtnStyle","width","height","fontSize","changeAllChecked","addComma","num","regexp","toString","replace","copy","size","increaseData","a","type","데이터","decreaseData","deleteData","goDetailPage","shoes","get","then","result","data","shoes변경","catch","console","log","setTimeout","push","map","image","name","alert열렸니"],"mappings":"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","sourcesContent":["/* import CSS */\nimport '../styles/components/Cart/Cart.css';\nimport notice from '../images/cartNotice.jpeg';\n/* import Library */\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Table } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\n/* import Component */\nimport CheckBox from '../components/Cart/CheckBox.js';\n\nfunction Cart(props) {\n  let dispatch = useDispatch();\n  let history = useHistory();\n  let state = useSelector((state) => state);\n\n  let sum = 0;\n  let checkedId = new Set();\n\n  for (let i = 0; i < state.reducer.length; i++) {\n    checkedId.add(state.reducer[i].id);\n  }\n\n  /* checkList 상태 */\n  const [allBChecked, setAllBChecked] = useState(true);\n  const [allChecked, setAllChecked] = useState(true);\n  const [checkList, setCheckList] = useState(checkedId);\n  const [checkClicked, setCheckClicked] = useState(false);\n\n  for (let j = 0; j < state.reducer.length; j++) {\n    if (checkList.has(state.reducer[j].id) == true) {\n      sum += state.reducer[j].price * state.reducer[j].quan;\n    }\n  }\n\n  const orderTitleStyle = {\n    textAlign: 'left',\n    fontWeight: 'bold',\n    top: '50px',\n    paddingLeft: '10px',\n    borderBottom: '2.5px solid black',\n  };\n\n  const amountBtnStyle = {\n    fontWeight: 'bold',\n    cursor: 'pointer',\n    marginBottom: '3px',\n  };\n\n  const orderBtnStyle = {\n    width: '100%',\n    height: '50px',\n    fontSize: '20px',\n    fontWeight: 'bold',\n  };\n\n  const changeAllChecked = () => {\n    setAllBChecked(!allBChecked);\n    setCheckClicked(true);\n  };\n\n  /* 숫자에 콤마(,)추가하여 표시 */\n  const addComma = (num) => {\n    let regexp = /\\B(?=(\\d{3})+(?!\\d))/g;\n    return num.toString().replace(regexp, ',');\n  };\n\n  useEffect(() => {\n    if (allBChecked === true) {\n      for (let i = 0; i < state.reducer.length; i++) {\n        checkedId.add(state.reducer[i].id);\n      }\n      setCheckList(checkedId);\n    } else {\n      if (checkClicked === true) {\n        let copy = new Set();\n        setCheckList(copy);\n        setCheckClicked(false);\n      }\n    }\n  }, [allBChecked]);\n\n  useEffect(() => {\n    setCheckClicked(false);\n\n    if (state.reducer.length === checkList.size) {\n      setAllChecked(true);\n      setAllBChecked(true);\n    } else {\n      setAllChecked(false);\n      setAllBChecked(false);\n    }\n  }, [checkList]);\n\n  const increaseData = (a) => {\n    dispatch({ type: '수량증가', 데이터: a.id });\n  };\n  const decreaseData = (a) => {\n    dispatch({ type: '수량감소', 데이터: a.id });\n  };\n  const deleteData = (a) => {\n    dispatch({ type: '상품삭제', 데이터: a.id });\n  };\n\n  const goDetailPage = (id) => {\n    if (props.shoes.length < 4) {\n      axios\n        .get('https://codingapple1.github.io/shop/data2.json')\n        .then((result) => {\n          if (result.data) props.shoes변경([...props.shoes, ...result.data]);\n        })\n        .catch(() => {\n          console.log('실패');\n        });\n    }\n\n    setTimeout(() => {\n      history.push('/detail/' + id);\n    }, 1000);\n  };\n\n  return (\n    <>\n      {state.reducer.length > 0 ? (\n        <div id='container'>\n          <Table responsive>\n            <thead>\n              <tr>\n                <th class='col-md-1'>\n                  <input\n                    type='checkbox'\n                    checked={allChecked}\n                    onChange={changeAllChecked}\n                  />\n                </th>\n                <th class='col-md-1'>{/*상품이미지*/}</th>\n                <th class='col-md-2'>상품명</th>\n                <th class='col-md-2'>가격</th>\n                <th class='col-md-1'>수량</th>\n                <th class='col-md-1'>배송비</th>\n                <th class='col-md-1'>{/*삭제버튼*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {state.reducer.map((a, i) => {\n                return (\n                  <tr key={i}>\n                    <td>\n                      <CheckBox\n                        index={i}\n                        id={a.id}\n                        price={a.price}\n                        quan={a.quan}\n                        checkList={checkList}\n                        setCheckList={setCheckList}\n                      />\n                    </td>\n                    <td>\n                      <img\n                        className='itemImg opacity'\n                        onClick={() => {\n                          goDetailPage(a.id);\n                        }}\n                        src={a.image}\n                        width='150px'\n                      />\n                    </td>\n                    <td>{a.name}</td>\n                    <td>{addComma(a.price)}원</td>\n                    <td>\n                      {' '}\n                      <button\n                        className='btn btn-default'\n                        style={amountBtnStyle}\n                        onClick={() => {\n                          increaseData(a);\n                        }}\n                      >\n                        +\n                      </button>\n                      {a.quan}\n                      <button\n                        className='btn btn-default'\n                        style={amountBtnStyle}\n                        onClick={() => {\n                          decreaseData(a);\n                        }}\n                      >\n                        -\n                      </button>\n                    </td>\n                    <td>무료</td>\n                    <td>\n                      <button\n                        className='btn btn-default'\n                        style={amountBtnStyle}\n                        onClick={() => {\n                          deleteData(a);\n                        }}\n                      >\n                        x\n                      </button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n          <div id='orderWrapper'>\n            <h1 style={orderTitleStyle}>주문합계</h1>\n            <div className='orderTable'>\n              <div className='priceWrapper'>\n                <h3>결제예정금액</h3>\n                <h3>{`${addComma(sum)}원`}</h3>\n              </div>\n              <div className='priceWrapper'>\n                <p>상품금액 합계</p>\n                <p>{` ${addComma(sum)}원`}</p>\n              </div>\n              <div className='priceWrapper'>\n                <p>배송비 합계</p>\n                <p> + 0원</p>\n              </div>\n\n              <button className='btn-primary opacity' style={orderBtnStyle}>\n                {`총 ${addComma(sum)}원 주문하기`}\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div id='noticeWrapper'>\n          <img className='noticeImg' src={notice} />\n          <p className='notice'>장바구니가 비어있습니다.</p>\n        </div>\n      )}\n      {props.alert열렸니 ? (\n        <div className='my-alert'>\n          <p>지금 구매하시면 20% 할인</p>\n          <button\n            onClick={() => {\n              dispatch({ type: 'alert닫기' });\n            }}\n          >\n            닫기\n          </button>\n        </div>\n      ) : null}\n    </>\n  );\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}