{"ast":null,"code":"var _jsxFileName = \"/Users/esoolgnah/Desktop/Projects/\\u1109\\u116D\\u1111\\u1175\\u11BC\\u1106\\u1169\\u11AF \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173 \\u1105\\u1175\\u1111\\u1162\\u11A8\\u1110\\u1169\\u1105\\u1175\\u11BC/CodingApple_Shopping_Mall_Refactoring/src/pages/Detail.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/* import CSS */\nimport '../styles/pages/Detail.scss';\n/* import Library */\n\nimport axios from 'axios';\nimport { Nav } from 'react-bootstrap';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet recents = [];\nlet 박스 = styled.div`\n  padding: 20px;\n`;\nlet 제목 = styled.h4`\n  font-size: 25px;\n  color: ${props => props.색상};\n`;\n\nfunction Detail(props) {\n  _s();\n\n  let history = useHistory();\n  let dispatch = useDispatch();\n  let {\n    id\n  } = useParams();\n  let 찾은상품 = props.shoes.find(function (상품) {\n    return 상품.id == id;\n  });\n  const [alert, alert변경] = useState(true);\n  let [누른탭, 누른탭변경] = useState(0);\n  let [스위치, 스위치변경] = useState(false);\n  let [recent, setRecent] = useState([]);\n  /* 숫자에 콤마(,)추가하여 표시 */\n\n  const addComma = num => {\n    let regexp = /\\B(?=(\\d{3})+(?!\\d))/g;\n    return num.toString().replace(regexp, ',');\n  };\n\n  const addItemAndGoCart = () => {\n    // 장바구니 항목 추가\n    dispatch({\n      type: '항목추가',\n      데이터: {\n        id: 찾은상품.id,\n        name: 찾은상품.title,\n        quan: 1,\n        image: `https://codingapple1.github.io/shop/shoes${찾은상품.id + 1}.jpg`,\n        price: 찾은상품.price\n      }\n    }); // 장바구니 이동 여부 모달 On\n\n    dispatch({\n      type: 'goCartModalOn'\n    });\n  };\n\n  const getDataAndSetting = el => {\n    if (props.shoes.length < 4) {\n      axios.get('https://codingapple1.github.io/shop/data2.json').then(result => {\n        if (result.data) props.shoes변경([...props.shoes, ...result.data]);\n      }).catch(() => {\n        console.log('실패');\n      });\n    }\n\n    let arr = localStorage.getItem('watched');\n    if (arr === null) arr = [];else arr = JSON.parse(arr);\n    let idx = arr.indexOf(el);\n\n    if (idx > -1) {\n      arr.splice(idx, 1);\n      arr.unshift(el);\n    } else {\n      arr.unshift(el);\n    }\n\n    if (arr.length > 3) {\n      arr = [arr[0], arr[1], arr[2]];\n    }\n\n    recents = arr;\n    localStorage.setItem('watched', JSON.stringify(arr));\n  };\n\n  useEffect(() => {\n    let 타이머 = setTimeout(() => {\n      alert변경(false);\n    }, 2000);\n    return () => {\n      clearTimeout(타이머);\n    };\n  }, []);\n  useEffect(() => {\n    // localStorage.clear();\n    let arr = localStorage.getItem('watched');\n    if (arr === null) arr = [];else arr = JSON.parse(arr);\n    let idx = arr.indexOf(id);\n\n    if (idx > -1) {\n      arr.splice(idx, 1);\n      arr.unshift(id);\n    } else {\n      arr.unshift(id);\n    }\n\n    if (arr.length > 3) {\n      arr = [arr[0], arr[1], arr[2]];\n    }\n\n    recents = arr;\n    localStorage.setItem('watched', JSON.stringify(arr));\n  }, []);\n\n  const goDetailPage = el => {\n    getDataAndSetting(el);\n    setTimeout(() => {\n      history.push('/detail/' + el);\n      alert변경(true);\n      let 타이머 = setTimeout(() => {\n        alert변경(false);\n      }, 2000);\n      return () => {\n        clearTimeout(타이머);\n      };\n    }, 1000);\n  };\n\n  useEffect(() => {\n    setRecent(recents);\n  }, [recents]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"recentBox\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: \"Recently Viewed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), recent.map((el, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"imgWrapper opacity\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img\",\n            src: `https://codingapple1.github.io/shop/shoes${Number(el) + 1}.jpg`,\n            onClick: () => {\n              goDetailPage(el);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)\n        }, el, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(박스, {\n      children: /*#__PURE__*/_jsxDEV(제목, {\n        className: \"red\",\n        children: \"Detail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: alert ? 'my-alert' : 'my-alert-hide',\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uC7AC\\uACE0\\uAC00 \\uC5BC\\uB9C8 \\uB0A8\\uC9C0 \\uC54A\\uC558\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `https://codingapple1.github.io/shop/shoes${찾은상품.id + 1}.jpg`,\n          width: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"pt-5\",\n          children: 찾은상품.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: 찾은상품.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [addComma(찾은상품.price), \"\\uC6D0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary opacity\",\n          onClick: () => {\n            addItemAndGoCart();\n          },\n          children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uB2F4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary opacity\",\n          onClick: () => {\n            history.push('/');\n          },\n          children: \"\\uB4A4\\uB85C\\uAC00\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"mt-5\",\n          variant: \"tabs\",\n          defaultActiveKey: \"/home\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"link-0\",\n              style: {\n                color: 'black'\n              },\n              onClick: () => {\n                스위치변경(false);\n                누른탭변경(0);\n              },\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"link-1\",\n              style: {\n                color: 'black'\n              },\n              onClick: () => {\n                스위치변경(false);\n                누른탭변경(1);\n              },\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n          in: 스위치,\n          classNames: \"wow\",\n          timeout: 500,\n          children: /*#__PURE__*/_jsxDEV(TabContent, {\n            누른탭: 누른탭,\n            스위치변경: 스위치변경\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Detail, \"uP/hYljg2P1U/p69giGYxsorxcE=\", false, function () {\n  return [useHistory, useDispatch, useParams];\n});\n\n_c = Detail;\n\nfunction TabContent(props) {\n  _s2();\n\n  useEffect(() => {\n    props.스위치변경(true);\n  });\n  if (props.누른탭 === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"0\\uBC88\\uC9F8 \\uB0B4\\uC6A9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 31\n  }, this);else if (props.누른탭 === 1) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"1\\uBC88\\uC9F8 \\uB0B4\\uC6A9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 36\n  }, this);else if (props.누른탭 === 2) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"2\\uBC88\\uC9F8 \\uB0B4\\uC6A9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 36\n  }, this);\n}\n\n_s2(TabContent, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c2 = TabContent;\nexport default Detail;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Detail\");\n$RefreshReg$(_c2, \"TabContent\");","map":{"version":3,"sources":["/Users/esoolgnah/Desktop/Projects/쇼핑몰 프로젝트 리팩토링/CodingApple_Shopping_Mall_Refactoring/src/pages/Detail.js"],"names":["axios","Nav","React","useEffect","useState","useHistory","useParams","styled","useDispatch","CSSTransition","recents","박스","div","제목","h4","props","색상","Detail","history","dispatch","id","찾은상품","shoes","find","상품","alert","alert변경","누른탭","누른탭변경","스위치","스위치변경","recent","setRecent","addComma","num","regexp","toString","replace","addItemAndGoCart","type","데이터","name","title","quan","image","price","getDataAndSetting","el","length","get","then","result","data","shoes변경","catch","console","log","arr","localStorage","getItem","JSON","parse","idx","indexOf","splice","unshift","setItem","stringify","타이머","setTimeout","clearTimeout","goDetailPage","push","map","i","Number","content","color","TabContent"],"mappings":"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","sourcesContent":["/* import CSS */\nimport '../styles/pages/Detail.scss';\n/* import Library */\nimport axios from 'axios';\nimport { Nav } from 'react-bootstrap';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\n\nlet recents = [];\nlet 박스 = styled.div`\n  padding: 20px;\n`;\nlet 제목 = styled.h4`\n  font-size: 25px;\n  color: ${(props) => props.색상};\n`;\n\nfunction Detail(props) {\n  let history = useHistory();\n  let dispatch = useDispatch();\n\n  let { id } = useParams();\n  let 찾은상품 = props.shoes.find(function (상품) {\n    return 상품.id == id;\n  });\n  const [alert, alert변경] = useState(true);\n  let [누른탭, 누른탭변경] = useState(0);\n  let [스위치, 스위치변경] = useState(false);\n  let [recent, setRecent] = useState([]);\n\n  /* 숫자에 콤마(,)추가하여 표시 */\n  const addComma = (num) => {\n    let regexp = /\\B(?=(\\d{3})+(?!\\d))/g;\n    return num.toString().replace(regexp, ',');\n  };\n\n  const addItemAndGoCart = () => {\n    // 장바구니 항목 추가\n    dispatch({\n      type: '항목추가',\n      데이터: {\n        id: 찾은상품.id,\n        name: 찾은상품.title,\n        quan: 1,\n        image: `https://codingapple1.github.io/shop/shoes${\n          찾은상품.id + 1\n        }.jpg`,\n        price: 찾은상품.price,\n      },\n    });\n\n    // 장바구니 이동 여부 모달 On\n    dispatch({\n      type: 'goCartModalOn',\n    });\n  };\n\n  const getDataAndSetting = (el) => {\n    if (props.shoes.length < 4) {\n      axios\n        .get('https://codingapple1.github.io/shop/data2.json')\n        .then((result) => {\n          if (result.data) props.shoes변경([...props.shoes, ...result.data]);\n        })\n        .catch(() => {\n          console.log('실패');\n        });\n    }\n\n    let arr = localStorage.getItem('watched');\n    if (arr === null) arr = [];\n    else arr = JSON.parse(arr);\n    let idx = arr.indexOf(el);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n      arr.unshift(el);\n    } else {\n      arr.unshift(el);\n    }\n    if (arr.length > 3) {\n      arr = [arr[0], arr[1], arr[2]];\n    }\n    recents = arr;\n    localStorage.setItem('watched', JSON.stringify(arr));\n  };\n\n  useEffect(() => {\n    let 타이머 = setTimeout(() => {\n      alert변경(false);\n    }, 2000);\n    return () => {\n      clearTimeout(타이머);\n    };\n  }, []);\n\n  useEffect(() => {\n    // localStorage.clear();\n    let arr = localStorage.getItem('watched');\n    if (arr === null) arr = [];\n    else arr = JSON.parse(arr);\n    let idx = arr.indexOf(id);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n      arr.unshift(id);\n    } else {\n      arr.unshift(id);\n    }\n    if (arr.length > 3) {\n      arr = [arr[0], arr[1], arr[2]];\n    }\n    recents = arr;\n    localStorage.setItem('watched', JSON.stringify(arr));\n  }, []);\n\n  const goDetailPage = (el) => {\n    getDataAndSetting(el);\n    setTimeout(() => {\n      history.push('/detail/' + el);\n      alert변경(true);\n      let 타이머 = setTimeout(() => {\n        alert변경(false);\n      }, 2000);\n      return () => {\n        clearTimeout(타이머);\n      };\n    }, 1000);\n  };\n\n  useEffect(() => {\n    setRecent(recents);\n  }, [recents]);\n\n  return (\n    <div className='container'>\n      <div id='recentBox'>\n        <p className='title'>Recently Viewed</p>\n        {recent.map((el, i) => {\n          return (\n            <div className='imgWrapper opacity' key={el}>\n              <img\n                className='img'\n                src={`https://codingapple1.github.io/shop/shoes${\n                  Number(el) + 1\n                }.jpg`}\n                onClick={() => {\n                  goDetailPage(el);\n                }}\n              ></img>\n            </div>\n          );\n        })}\n      </div>\n\n      <박스>\n        <제목 className='red'>Detail</제목>\n      </박스>\n\n      <div className={alert ? 'my-alert' : 'my-alert-hide'}>\n        <p>재고가 얼마 남지 않았습니다.</p>\n      </div>\n\n      <div className='row'>\n        <div className='col-md-6'>\n          <img\n            src={`https://codingapple1.github.io/shop/shoes${\n              찾은상품.id + 1\n            }.jpg`}\n            width='100%'\n          />\n        </div>\n        <div className='col-md-6 mt-4'>\n          <h4 className='pt-5'>{찾은상품.title}</h4>\n          <p>{찾은상품.content}</p>\n          <p>{addComma(찾은상품.price)}원</p>\n          <button\n            className='btn btn-primary opacity'\n            onClick={() => {\n              addItemAndGoCart();\n            }}\n          >\n            장바구니에 담기\n          </button>\n          &nbsp;\n          <button\n            className='btn btn-primary opacity'\n            onClick={() => {\n              history.push('/');\n            }}\n          >\n            뒤로가기\n          </button>\n          <Nav className='mt-5' variant='tabs' defaultActiveKey='/home'>\n            <Nav.Item>\n              <Nav.Link\n                eventKey='link-0'\n                style={{ color: 'black' }}\n                onClick={() => {\n                  스위치변경(false);\n                  누른탭변경(0);\n                }}\n              >\n                0\n              </Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link\n                eventKey='link-1'\n                style={{ color: 'black' }}\n                onClick={() => {\n                  스위치변경(false);\n                  누른탭변경(1);\n                }}\n              >\n                1\n              </Nav.Link>\n            </Nav.Item>\n          </Nav>\n          <CSSTransition in={스위치} classNames='wow' timeout={500}>\n            <TabContent 누른탭={누른탭} 스위치변경={스위치변경} />\n          </CSSTransition>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction TabContent(props) {\n  useEffect(() => {\n    props.스위치변경(true);\n  });\n\n  if (props.누른탭 === 0) return <div>0번째 내용</div>;\n  else if (props.누른탭 === 1) return <div>1번째 내용</div>;\n  else if (props.누른탭 === 2) return <div>2번째 내용</div>;\n}\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}